function CJAX_FRAMEWORK(){function __construct(){function a(a){var b;if(a==null){b=event.srcElement}else{b=a.target}CJAX.clicked=b}CJAX.script.load(__base__+"/core/js/cjax.js.php?update="+CJAX.microtime(true));CJAX.script.load(__base__+"/core/css/cjax.css");document.onclick=a;var b=CJAX.create.div("cjax_overlay");b.className="cjax_overlay";b.onclick=CJAX._removeOverLay}function var_dump(a){if(typeof a=="object"){return"Type: "+typeof a+(a.constructor?"\nConstructor: "+a.constructor:"")+"\nValue: "+a}else{return"Type: "+typeof a+"\nValue: "+a}}this.name="cjax";this.debug=false;var CJAX_CACHE=[];var _FUNCTION;var __base__;var parameters;this.COMPONENTS=[];this.EXTENSIONS=[];this.vars=[];this.message_id=0;this.left_delimeter="<";this.right_delimeter=">";this.split_delimiter="|";this.messages=[];this.loading=true;this.clicked;this.bind=[];this.IS_POST=false;this.cache_calls=[];this.chache_templates=[];this.dir;this.styles=[];this.current_element=[];this.timer;var FLAG_NO_FLAG=0;var FLAG_WAIT=1;var FLAG_NO_WAIT=2;var FLAG_ELEMENT_BY_ID=3;var FLAG_ELEMENT_BY_CLASS=4;var FLAG_CLEAR_TIMEOUT=false;var FLAG_DEBUG_DISABLED=0;var FLAG_DEBUG_ENABLED=1;var FLAGS={ELEMENT_GETTER:"ELEMENT_GETTER",FLAGS_WAIT:"FLAGS_WAIT"};var HELPER_STYLE;this.submit=function(a){var b=debug_element=CJAX.xml("element",a);b=CJAX.$(b);if(b){b.submit()}else{if(CJAX.debug){alert("Form element "+debug_element+" not found in document")}}};this.value=function(a){var b=CJAX.util.array(CJAX.xml("options",a));CJAX.set.value(CJAX.xml("element",a),CJAX.xml("value",a),b)};this.focus=function(a){var b=CJAX.is_element(a,false);if(b){b.focus()}};this.remove=function(a){var b=CJAX.is_element(a,false);if(!b&&a.indexOf(CJAX.split_delimiter)!=-1){var c=CJAX.xml("element",a).split(CJAX.split_delimiter);var d=CJAX.util.count(c);var e=0;for(x in c){if(e>=d)break;e++;b=CJAX.is_element(c[x],false);if(b){b.style.display="none"}}return}if(!b)return false;b.parentNode.removeChild(b)};this.util=function(){return{isXML:function(a){if(typeof a!="string"){return false}if(a.indexOf(CJAX.left_delimeter)!=-1&&a.indexOf(CJAX.right_delimeter)!=-1){return true}return false},array:function(buffer){if(CJAX.xml("json",buffer)){return eval("("+CJAX.decode(CJAX.xml("json",buffer))+")")}var array=CJAX.xml("arr",buffer,true);var xml_arr=[];for(x in array){xml_arr[x]=array[x]}var k,v;var xml_arr=[];for(x in array){if(CJAX.util.isXML(array[x])){k=CJAX.xml("k",array[x]);v=CJAX.xml("v",array[x]);xml_arr[k]=v}}return xml_arr},strrpos:function(a,b,c){var d=a.lastIndexOf(b,c);return d>=0?d:false},encode:function(a){a=escape(a);a=a.replace("+","%2B");a=a.replace("%20","+");a=a.replace("*","%2A");a=a.replace("/","%2F");a=a.replace("@","%40");a=a.replace("(","%28");a=a.replace("!","%21");a=a.replace(")","%29");return a},toCursor:function(a,b){a=CJAX.is_element(a);var c=a.scrollTop;if(document.selection){a.focus();sel=document.selection.createRange();sel.text=b}else if(a.selectionStart||a.selectionStart=="0"){var d=a.selectionStart;var e=a.selectionEnd;a.value=a.value.substring(0,d)+b+a.value.substring(e,a.value.length)}else{a.value+=b}try{a.scrollTop=c}catch(f){}},injectXML:function(a,b){a=a.replace(/<\/out>/gi,b+"</out>");return a},array2xml:function(a){if(CJAX.php.is_array(a)){var b="";for(x in a){b=b+"<"+x+">"+a[x]+"</"+x+">"}return b}},replace_encode:function(a,b){var c=a.replace("<encode>"+b+"</encode>",CJAX.util.encode(b));return c},eval:function(source){var new_data=CJAX.decode(source).replace(/\n\r/ig,"");new_data=new_data.replace(/[\n\r\t]/gm,"");new_data=new_data.replace(/\t/gm," ");try{eval(new_data)}catch(e){console.info("Eval could not load: %s",new_data,e)}},count:function(a,b){var c,d=0;if(a===null){return 0}else if(a.constructor!==Array&&a.constructor!==Object){return 1}if(b==="COUNT_RECURSIVE"){b=1}if(b!=1){b=0}for(c in a){if(a.hasOwnProperty(c)){d++;if(b==1&&a[c]&&(a[c].constructor===Array||a[c].constructor===Object)){d+=this.util.count(a[c],1)}}}return d},print:function(a){var b=CJAX.is_element(CJAX.xml("element",a));var c=CJAX.xml("container_id",a);var d=CJAX.is_element(c);var e=c+"_frame";var f=CJAX.is_element(e);if(!f){f=CJAX.create.frame(e);f.width="0px";f.height="0px";d.appendChild(f);f.focus()}var g=d.innerHTML;var h=f.contentWindow||f.contentDocument;if(h.document){h=h.document}h.write("<html><head><title>Copy</title>");h.write("</head><body onload='this.focus(); this.print();'>");h.write(g+"</body></html>");h.close()}}}();this.select=function(a){function l(a,b,c){var d=document.createElement("OPTION");d.text=b;d.value=c;a.options.add(d)}function k(a){var b=document.createElement("INPUT");b.type="text";b.name=a.name;b.id=a.id;b.className=a.className;b.style.width=a.offsetWidth+"px";var c=CJAX.get.property.parent(a);c.appendChild(b);CJAX.remove(a);a=b;c.style.display="block"}var b;var c=CJAX.is_element(b=CJAX.xml("element",a),false);if(!c){alert("CJAX Error -  Element "+b+" not found");return}var d=CJAX.xml("allow_input",a);var e=CJAX.util.array(CJAX.xml("options",a));var f=CJAX.util.count(e);if(c.type=="select-one"){c.style.display="inline";if(f){c.options.length=0;var g=0;for(var h in e){g++;if(f==g){break}l(c,e[h],h)}}else{if(d){k(c)}else{c.style.display="none"}}}else{if(c.type=="text"){if(CJAX.util.count(e)){var i=document.createElement("SELECT");i.name=c.name;i.id=c.id;var j=CJAX.get.property.parent(c);j.appendChild(i);j.style.display="block";i.className=c.className;CJAX.remove(c);c=i;if(c){c.options.length=0}var g=0;for(var h in e){g++;if(f==g){break}l(c,e[h],h)}}}else{if(!CJAX.util.count(e)){k(c)}}}};this.eval=function(a){CJAX.util.eval(a)};this.message=function(a,b){if(CJAX.php.is_array(a)){a=CJAX.util.array2xml(a)}var c=[];var d=CJAX.xml("element",a)?CJAX.xml("element",a):"cjax_message";var e=CJAX.create.div(d);c["top"]=CJAX.xml("top",a);c["left"]=CJAX.xml("left",a);if(c["left"]=="50%"&&!c["marginLeft"]){c["marginLeft"]="-25%"}if(!CJAX.defined(a)){var a=""}if(!CJAX.util.isXML(a)){f=a}else{var f=CJAX.xml("data",a);f=CJAX.decode(f)}if(!CJAX.defined(b)||!b){var b=CJAX.xml("time",a)}e.innerHTML=f;CJAX.set.center(e,c);e.style.zIndex="5999";var g=CJAX.xml("seconds",a);if(b>0&&g>b||!g&&b){if(CJAX.message_id){clearTimeout(CJAX.message_id)}CJAX.messages[CJAX.message_id]=setTimeout(function(){CJAX.is_element(d,false).innerHTML=""},b*1e3)}return e};this.overLayContent=function(buffer){function _options(){if(options.transparent||options.color){var _opacity=_alpha=_color=null;if(!options.transparent){options.transparent=80}_opacity=parseFloat("0."+parseFloat(options.transparent));_alpha="alpha(opacity="+parseInt(options.transparent)+")";_color=options.color;var overlay_class=CJAX.css.add(".overlay_class","cjax");if(overlay_class){with(overlay_class.style){display="block";position="absolute";top=0;left=0;width="100%";height="150%";Zindex=5e3;marginBottom="0px";if(options.transparent){opacity=_opacity;filter=_alpha}if(_color){backgroundColor=_color}}CJAX.$("cjax_overlay").className="overlay_class"}}}var msg=[];var url=CJAX.xml("url",buffer);var cjax_dir=CJAX.xml("cjax_dir",buffer);var use_cache=CJAX.xml("cache",buffer);var top="72px";var options=CJAX.xml("options",buffer);options=CJAX.util.array(options);for(x in options){msg[x]=options[x]}if(!CJAX.defined(msg.top)){msg["top"]=top}if(!CJAX.defined(msg.left)){msg["position"]="relative";msg["left"]="50%";msg["marginLeft"]="-25%"}var response=null;var content=CJAX.xml("content",buffer);var call="[url]"+url+"[/url][element]cjax_overlay_content[/element][cjax_dir]"+cjax_dir+"[/cjax_dir]";if(!url&&!content){return CJAX._removeOverLay()}content=CJAX.decode(content);if(use_cache&&CJAX.chache_templates["cache_overlay"]){var template=CJAX.chache_templates["cache_overlay"]}else{var template=CJAX.xml("template",buffer);template=template.replace(CJAX.util.encode("[CONTENT]"),content);CJAX.chache_templates["content"]=template}_options();msg["data"]=CJAX.decode(template);msg["element"]="cjax_message_overlay";CJAX.message(msg);CJAX.$("cjax_overlay").style.display="block";CJAX.chache_templates["content"]=CJAX.$("cjax_overlay_content").innerHTML=content};this.overLay=function(buffer){function _options(){if(options.transparent||options.color){var _opacity=_alpha=_color=null;if(!options.transparent){options.transparent=80}_opacity=parseFloat("0."+parseFloat(options.transparent));_alpha="alpha(opacity="+parseInt(options.transparent)+")";_color=options.color;var overlay_class=CJAX.css.add(".overlay_class","cjax");if(overlay_class){with(overlay_class.style){display="block";position="absolute";top=0;left=0;width="100%";height="150%";Zindex=5e3;marginBottom="0px";if(options.transparent){opacity=_opacity;filter=_alpha}if(_color){backgroundColor=_color}}CJAX.$("cjax_overlay").className="overlay_class"}}}var msg=[];var url=CJAX.xml("url",buffer);var cjax_dir=CJAX.xml("cjax_dir",buffer);var use_cache=CJAX.xml("cache",buffer);var top="72px";var options=CJAX.xml("options",buffer);options=CJAX.util.array(options);for(x in options){msg[x]=options[x]}if(!CJAX.defined(msg.top)){msg["top"]=top}var response=null;var content=CJAX.xml("content",buffer);var call="[url]"+url+"[/url][element]cjax_overlay_content[/element][cjax_dir]"+cjax_dir+"[/cjax_dir]";if(!url){return CJAX._removeOverLay()}if(use_cache&&CJAX.chache_templates["overlay"]){if(CJAX.cache_calls[call]){CJAX.process_all(CJAX.cache_calls[call])}if(CJAX.chache_templates["cache_overlay"]){var template=CJAX.chache_templates["cache_overlay"]}}else{var template=CJAX.xml("template",buffer);CJAX.chache_templates["overlay"]=template;if(!response){setTimeout(function(){content=CJAX.exe_html(call,"overlay")},170)}var content=null;var interval_max=100;var interval_count=0;var interval=setInterval(function(){interval_count++;content=CJAX.cache_calls[call];if(content){if(!CJAX.chache_templates["cache_overlay"]){CJAX.chache_templates["cache_overlay"]=CJAX.$("cjax_message_overlay").innerHTML}CJAX.chache_templates["overlay"]=CJAX.$("cjax_message_overlay").innerHTML;clearInterval(interval)}if(interval_count>interval_max){alert("Could not load overlay. Please try again.");clearInterval(interval)}},100)}_options();CJAX.$("cjax_overlay").style.display="block";msg["data"]=CJAX.decode(template);msg["element"]="cjax_message_overlay";CJAX.message(msg)};this._removeOverLay=function(){CJAX.$("cjax_overlay").style.display="none";CJAX.message("<element>cjax_message_overlay</element>");CJAX.message("<element>cjax_message</element>");CJAX.$("cjax_overlay").className="cjax_overlay"};this.AddEventTo=function(a,b){if(typeof b=="undefined")var b=true;if(b){a=CJAX.decode(a)}var c=CJAX.xml("array",a);var d=CJAX.xml("element_event",a);if(CJAX.debug){console.log("AddEventTo is fired, and executing:",a)}if(d.indexOf(CJAX.split_delimiter)!=-1){var f=d.split(CJAX.split_delimiter);var g,h,i;var j;var k=CJAX.util.count(f);var l=0;for(x in f){if(l>=k)break;l++;j=a.replace(d,f[x]);g=CJAX.is_element(f[x],false);if(g){h=g.getAttribute("rel");if(h){i="[rel]"+h+"[/rel]";j=CJAX.util.injectXML(j,i)}}CJAX.AddEventTo(j,false)}return}var m=CJAX.xml("alt_element",a);if(!d&&!m){if(CJAX.debug){console.log("no element:",a)}return}if(c){var n=CJAX.unserialize(c);var o=e=_element=q=null;interval=150;interval_result=null;var p=0;for(x in n){q=CJAX.xml("_do_",n[x]);_element=CJAX.$(CJAX.xml("alt_element",n[x]));if(!_element){e=CJAX.xml("alt_event",n[x]);if(e&&!_element){interval_result=setInterval(function(){if(_element=CJAX.$(CJAX.xml("alt_element",n[x]))){if(CJAX.debug){console.log("CJAX.set.event #1 to element",d,q)}CJAX.set.event(_element,e,n[x]);clearInterval(interval_result)}else{p++;if(p>interval*10){clearInterval(interval_result)}}},interval)}else{if(CJAX.debug){console.log("CJAX.set.event #2 to element",d,q)}CJAX.set.event(CJAX.$(_element),e,n[x])}}else{if(CJAX.php.isNumeric(x)){e=CJAX.xml("alt_event",n[x])}else{e=x}if(CJAX.debug){console.log("CJAX.set.event #3 to element",d,q)}CJAX.set.event(CJAX.$(d),e,n[x])}}}else{var q=CJAX.xml("do",a);var r=CJAX.xml("event_action",a);var s=CJAX.xml("event_method",a);if(!r)r="load";if(CJAX.xml("observe",a)){CJAX.$(d);var t=setInterval(function(){if(CJAX.$(d)){if(CJAX.debug){console.log("CJAX.set.event #4 to element",d,q)}event_id=CJAX.set.event(CJAX.$(d),r,s);clearInterval(t)}},400)}else{if(CJAX.debug){console.log("CJAX.set.event #5","to element: ",d,q)}CJAX.set.event(CJAX.$(d),r,s)}}};this.click=function(a){if(CJAX.$(a)){var b=CJAX.$(a)}else{var c=CJAX.xml("element",a);b=CJAX.$(c)}if(b)b.click()};this.__textbox=function(a){var b=CJAX.xml("element",a);var c=CJAX.xml("parent",a);var d=CJAX.xml("label",a);var e=CJAX.create.textbox(b,c,d);if(e){var f=CJAX.xml("value",a);var g=CJAX.xml("class",a)}};this._ElementList=function(){var a=[];return{get_return:function(){a["text"]="string";a["select-one"]="string";a["select-multiple"]="string";a["password"]="string";a["hidden"]="string";a["textarea"]="string";a["button"]="string";a["submit"]="string";a["checkbox"]="boolean";a["radio"]="boolean";return a},types:function(){a[1]="text";a[2]="select-one";a[3]="select-multiple";a[4]="password";a[5]="hidden";a[6]="textarea";a[7]="button";a[8]="submit";a[9]="checkbox";a[10]="radio";return a}}}();this.is_cjax=function(a){if(!CJAX.xml(this.name,CJAX.defined(a)?a:null)){return false}return true};this.resetDelimeters=function(a,b){if(CJAX.defined(a)&&CJAX.defined(b)){CJAX.left_delimeter=a;CJAX.right_delimeter=b}else{CJAX.left_delimeter="<";CJAX.right_delimeter=">"}};this.get_function=function(a){return CJAX.xml("do",a)};this._addEvent=function(a,b,c){if(!CJAX.defined(d)){var d=null}if(b.substring(0,2)=="on"){b=b.substring(2)}if(a.addEventListener){try{a.addEventListener(b,c,false)}catch(e){alert("CJAX: Error - addEvent "+e)}return CJAX._EventCache.add(a,b,c)}else if(a.attachEvent){a["e"+b+c]=c;a[b+c]=function(){a["e"+b+c](window.event)};a.attachEvent("on"+b,a[b+c]);CJAX._EventCache.add(a,b,c)}else{a["on"+b]=a["e"+b+c]}};var listEvents=[];this._EventCache=function(){return{listEvents:listEvents,add:function(a,b,c){return listEvents.push(arguments)},flush:function(a){if(typeof a=="undefined")var a;var b,c;for(b=listEvents.length-1;b>=0;b=b-1){c=listEvents[b];if(c[0].removeEventListener){c[0].removeEventListener(c[1],c[2],c[3])}if(c[1].substring(0,2)!="on"){c[1]="on"+c[1]}if(c[0].detachEvent){c[0].detachEvent(c[1],c[0][eventtype+c[2]])}c[0][c[1]]=null}}}}();this.get=function(){return{extension:function(a){var b=CJAX.util.strrpos(a,".");if(!b){return""}return CJAX.php.substr(a,b,a.length)},byClassName:function(a,b){var c=new Array;if(b==null){var b="*"}var c=document.getElementsByTagName(b);for(i=0;i<c.length;i++){if(c[i].className==a){return c[i]}}},dirname:function(a,b){var c=CJAX.get.selfpath();if(!c||!a){return false}a.match(/(.*)[\/\\]/)[1];if(b){for(var d=0;d<b-1;d++){try{a=a.match(/(.*)[\/\\]/)[1]}catch(e){}}}return a},document:function(a){if(CJAX.defined(a)&&a){var b;if(this.contentDocument){b=this.contentDocument}else if(this.contentWindow){b=this.contentWindow.document}else if(window.frames[this.name]){b=window.frames[this.name].document}return b.document}return document.body},basepath:function(){var a=CJAX.get.selfpath();a=CJAX.get.dirname(a,3);if(a){var b=a.substr(a.length-4);if(b=="core"){a=CJAX.get.dirname(a,2)}}else{a="cjax"}return a},basename:function(a,b){var c=a.replace(/^.*[\/\\]/g,"");if(typeof b=="string"&&c.substr(c.length-b.length)==b){c=c.substr(0,c.length-b.length)}return c},scripts:{src:function(){var a=[];var b;var c=CJAX.elem_docs("script");for(var d=0;d<c.length;d++){b=c[d];if(b.src)a[d]=b.src}return a}},selfpath:function(){var a;var b="cjax.js";var c;a=CJAX.$("cjax_lib");if(a){c=a.src;var d=c.substr(0,c.indexOf(b));return d}var e=document.getElementsByTagName("script");for(var f=0;f<e.length;f++){a=e[f];c=a.src;if(CJAX.get.basename(c)==b){var d=c.substr(0,c.indexOf(b));return d}}},value:function(a,b){var c=typeof a;if(typeof b=="undefined"){b=true}if(c.indexOf("object")==-1){var a=CJAX.$(a,b)}return a.value},position:function(a){var b=curtop=0;if(a.offsetParent){do{b+=a.offsetLeft;curtop+=a.offsetTop}while(a=a.offsetParent);var c=[];c["top"]=curtop;c["left"]=b;return c}},y:function(a){var b=0;while(a!=null){b+=a.offsetTop;a=a.offsetParent}return b},property:{readonly:function(a,b){var c=typeof a;if(typeof b=="undefined"){b=true}if(c.indexOf("object")==-1){var a=CJAX.$(a,b)}return a.readOnly},enabled:function(a,b){var c=typeof a;if(typeof b=="undefined"){b=true}if(c.indexOf("object")==-1){var a=CJAX.$(a,b)}return a.disabled?false:true},disabled:function(a,b){var c=typeof a;if(typeof b=="undefined"){b=true}if(c.indexOf("object")==-1){var a=CJAX.$(a,b)}return a.disabled},style:function(a,b){var c=typeof a;if(typeof b=="undefined"){b=true}if(c.indexOf("object")==-1){var a=CJAX.$(a,b)}return a.style},parent:function(a,b){var c=typeof a;if(typeof b=="undefined"){b=true}if(c.indexOf("object")==-1){var a=CJAX.$(a,b)}return a.parentNode},position:function(a,b){var c=typeof a;if(typeof b=="undefined"){b=true}if(c.indexOf("object")==-1){var a=CJAX.$(a,b)}var d=[];var e=curtop=curright=curdown=0;if(a.offsetParent){do{e+=a.offsetLeft;curtop+=a.offsetTop}while(a=a.offsetParent);d[0]=e;d[4]=curtop;return d}}},parent:function(a,b){var c=typeof a;if(typeof verbose=="undefined"){verbose=true}if(c.indexOf("object")==-1){var a=CJAX.$(a,verbose)}var d;if(CJAX.get.isType(a.parentNode,b)){return a.parentNode}else{var e=30;var f=0;while(!CJAX.get.isType(a,b)&&!a){f++;d=a.parentNode;a=a.parentNode;if(f>=e){break}}return d}},isType:function(a,b){if(!a)return false;var c=typeof a;if(b=="table"){if(a.rows.length){return true}}if(c.indexOf(b)==-1){return false}return true},properties:function(a,b){var c=typeof a;if(typeof b=="undefined"){b=true}if(c.indexOf("object")==-1){var a=CJAX.$(a,b)}var d=[];d["id"]=a.id;d["name"]=a.name;d["readonly"]=a.readOnly;d["disabled"]=CJAX.elements.disabled(a,false);d["enabled"]=d["disabled"]?false:true;d["value"]=a.value;return d},cache:function(a){return CJAX.cache.get(a)}}}();this.uniqid=function uniqid(){var a=new Date;return a.getTime()};this.set=function(){return{event:function(element,event,method,cache_id){if(CJAX.debug){console.log("set.even setting event for -..:",element)}if(!element)return false;var element=CJAX.is_element(element);var event_id=CJAX.uniqid();var f=method.toString();f=f.substr(0,f.indexOf("("));f=f.replace(/\s+$/,"");if(f=="function"){CJAX._addEvent(element,event,eval(method))}else{var href;if(href=element.href){if(href.indexOf("#")==-1){element.onclick=function(){return false}}else{element.href="javascript:void(0)"}}else{if(element.type&&(element.type=="checkbox"||element.type=="radio")){element.onclick=function(){return true}}else{if(element.tagName=="LI"){element.onclick=function(){return false}}else{element.onclick=function(){return false}}}}return CJAX._addEvent(element,event,function(){method=method.replace(/\[_do_\]/g,"<do>");method=method.replace(/\[\/_do_\]/g,"</do>");method=method.replace(/\<_do_\>/g,"<do>");method=method.replace(/\<\/_do_\>/g,"</do>");method=method.replace(/\n/g,"");if(CJAX.util.isXML(method)){if(!CJAX.is_cjax(method)){method="<cjax>"+method+"</cjax>"}CJAX.process(method,"set.event",element)}else{eval(method)}},typeof cache_id!="undefined"?cache_id:null)}},value:function(a,b,c){if(typeof c=="undefined")var c=[];var a=CJAX.is_element(a);if(!a)return false;for(x in CJAX._ElementList.get_return()){if(x===a.type){switch(CJAX._ElementList.get_return()[x]){case"string":a.value=b;if(c.clear_text){a.onclick=function(){if(a.value==b){a.value=""}}}if(c.select_text){a.focus();a.select()}break;case"boolean":var d=b=="true"||b==1||b===true?true:false;a.checked=d;break}return true}}},type:function(a,b,c){if(!a)return false;var a=CJAX.is_element(a,c);if(a){a.type=b;return true}return false},name:function(a,b,c){if(!a)return false;var a=CJAX.is_element(a,c);if(a){a.name=b;return true}return false},style:function(a,b,c){},"class":function(a,b){a=CJAX.is_element(a,false);if(a){a.className=b}},title:function(a,b){a=CJAX.is_element(a,false);if(a){a.setAttribute("title",CJAX.decode(b))}},property:{focus:function(a,b){if(!a)return false;var a=CJAX.is_element(a,b);if(a&&window.focus()){a.focus();return true}return false}},center:function(obj,pos){if(typeof pos=="undefined")var pos=[];var element=CJAX.is_element(obj);element.style.position="absolute";var ctop=screen.height/4;if(CJAX.defined(pos.top)&&pos.top){var _top=pos.top;if(CJAX.php.isNumeric(_top)){_top=_top+"px"}}else{var _top=CJAX.getY()+ctop+"px"}if(CJAX.defined(pos.left)&&pos.left){var _left=pos.left;if(pos.marginLeft){var _margin_left=pos.marginLeft}else{var _margin_left=""}}else{var _left="50%";var _margin_left="-"+element.offsetWidth/2+"px"}if(pos.marginLeft){_margin_left=pos.marginLeft}with(element.style){top=_top;left=_left;maxWidth="800px"}if(_margin_left&&_margin_left!="0px"){element.style.marginLeft=_margin_left}return element}}}();this.create=function(){return{script:function(a){if(!CJAX.script.loaded(a)){return CJAX.script.load(a)}},div:function(a,b,c){if(typeof c=="undefined")var c=true;var d=CJAX.is_element(a,false);if(!b||b=="body"){b=CJAX.elem_docs("body")[0]}else{if(!b)b=CJAX.is_element(b,false)}if(!b)return false;if(d&&b){if(c){b.appendChild(d)}else{CJAX.elem_docs("body")[0].appendChild(d)}return d}var e=document.createElement("div");e.setAttribute("id",a);if(c){b.appendChild(e)}else{CJAX.elem_docs("body")[0].appendChild(e)}return e},select:function(a,b){var c;if(c=CJAX.is_element(a)){return c}c=document.createElement("select");c.name=a;c.id=a;return c},span:function(a,b){var c=CJAX.is_element(a);if(!b||b=="body")b=CJAX.elem_docs("body");else b=CJAX.is_element(b,false);if(!b)return false;if(c&&b){b.appendChild(c);return c}var d=document.createElement("span");d.setAttribute("id",a);b.appendChild(d);return d},textbox:function(a,b,c){var d=elem_doc(a,false);if(d){return d}var b=elem_doc(b);if(c){var e=document.createElement("LABEL");e.setAttribute("id","label_"+a);e.setAttribute("for",a);e.innerHTML=c;b.appendChild(e)}var f=document.createElement("INPUT");f.setAttribute("type","text");f.setAttribute("id",a);b.appendChild(f);return f},frame:function(a,b,c){if(!a){var a="cjax_iframe"}var d=CJAX.$(a,false);if(!d){d=document.createElement("IFRAME");d.setAttribute("id",a);d.setAttribute("name",a);if(typeof c!="undefined"&&c){d.setAttribute("src",c)}if(typeof b!="undefined"&&b){CJAX.$(b).appendChild(d)}}return d},form:function(a){if(!a){var a="cjax_form"}var b=CJAX.$(a);if(!b){b=document.createElement("FORM");b.method="POST";b.enctype="multipart/form-data";b.id=a;b.name=a}return b}}}();this.php=function(){return{implode:function(a,b){var c="",d="",e="";if(arguments.length===1){b=a;a=""}if(typeof b==="object"){if(b instanceof Array){return b.join(a)}else{for(c in b){d+=e+b[c];e=a}return d}}else{return b}},isNumeric:function(a){var b=a;a=parseFloat(a);return a!="NaN"&&b==a},is_array:function(a){if(CJAX.util.isXML(a)&&CJAX.xml("json",a)){return true}else{return typeof a=="object"&&a instanceof Array}},in_array:function(a,b){for(x in b){if(x==a){return true}}return false},trim:function(a){if(!a)return;while(a[0]==" "||a[0]=="\n")a=a.substr(1);var b=a.length-1;while(b>0&&a[b]==" "||a[b]=="\n")b--;return this.substring(0,b+1)},rtrim:function(a,b){if(!b){var b=" "}return a.replace(/\s+$/,"")},ltrim:function(a,b){if(!b){var b=" "}return a.replace(/replace/ig,a)},empty:function(a){return a===""||a===0||a==="0"||a===null||a===false||is_array(a)&&a.length===0},substr:function(a,b,c){if(b<0){b+=a.length}if(c==undefined){c=a.length}else if(c<0){c+=a.length}else{c+=b}if(c<b){c=b}return a.substring(b,c)}}}();this.cache=function(){return{all:CJAX_CACHE,add:function(a,b,c){if(typeof c=="undefined")var c=true;if(CJAX_CACHE["cache_close"]==1){return false}if(!CJAX_CACHE[a]&&c===true&&b){CJAX_CACHE[a]=b}},get:function(a){if(CJAX_CACHE[a]){return CJAX_CACHE[a]}else{return""}},flush:function(){var a,b;for(a=CJAX_CACHE.length-1;a>=0;a=a-1){b=CJAX_CACHE[a];if(delete b[0]){}if(b[1].substring(0,2)!="on"){b[1]="on"+b[1]}delete b[0][b[1]]}},close:function(){CJAX_CACHE["cache_close"]=1},open:function(){CJAX_CACHE["cache_close"]=0}}}();this.defined=function(a){return typeof a!="undefined"?true:false};this.script=function(){return{loaded:function(a,b){if(!CJAX.defined(a)){return false}if(!CJAX.defined(b)){return a.loaded()?true:false}var c=CJAX.elem_docs("script");var d;if(c.length){for(var e=0;e<c.length;e++){d=c[e];if(d.src==a)return d}}return false},load:function(a,b,c,d){if(CJAX.defined(CJAX.vars["loaded"][a])){return true}if(!CJAX.defined(c))var c="";var e=CJAX.xml("ctype",c);if(CJAX.defined(d)&&d){var f=CJAX.script.loaded(a,"function");if(f)return f}var g=CJAX.elem_docs("head")[0];var h=CJAX.get.extension(a);if(h==".css"){var f=document.createElement("link");f.setAttribute("rel","stylesheet");f.setAttribute("type","text/css");f.setAttribute("href",a)}else{var f=document.createElement("script");f.type="text/javascript";f.src=a}if(!CJAX.defined(CJAX.vars["loaded"][a])){CJAX.vars["loaded"][a]=[];CJAX.vars["loaded"][a]["function"]=[];CJAX.vars["loaded"][a]["function"]["src"]=a;CJAX.vars["loaded"][a]["function"]["function"]=b}g.appendChild(f);return f},reload:function(a,b){if(!CJAX.defined(c)){var c=""}var d=CJAX.get.extension(a);if(d==".css"){var e=document.createElement("link");e.setAttribute("rel","stylesheet");e.setAttribute("type","text/css");e.setAttribute("href",a)}else{var e=document.createElement("script");e.type="text/javascript";e.src=a;e.id=b}var f=CJAX.elem_docs("body")[0];f.appendChild(e);return e},action:function(f,p,s){try{if(s){setTimeout(f+'("'+p+'")',s*1e3)}else{eval(f+'("'+p+'")')}}catch(e){alert("unabled to load function: "+f.toUpperCase()+" "+e)}}}}();this.process_all=function(a,b){if(!CJAX.is_cjax(a)){return}if(!CJAX.defined(c))var c=false;if(d==null)var d="unkonwn";if(b!=null){CJAX.debug=b}if(CJAX.debug){console.log("initiating process_all","initiated by:",d)}var e="<xml class='cjax'>";var f=a.indexOf(e);if(f!=-1){a=a.substr(f+e.length,a.length-6);a=a.substr(0,a.length-6)}var g=CJAX.xml(CJAX.name,a,true);if(CJAX.debug){console.log("process_all command count:",g.length)}var h;if(!c){setTimeout(function(){for(var a=0;a<g.length;a++){h=g[a];var b=CJAX.xml("do",h);if(CJAX.debug){console.log("call #",a,"process_all not loading mode","calling:",b)}CJAX.process("<cjax>"+h+"<caller>process_all</caller></cjax>","process_all")}},200)}else{var i=CJAX.functionsNoWait();var j;var k;for(var l=0;l<g.length;l++){k=true;h=g[l];var j=CJAX.xml("do",h);if(!j){console.log("process_all skip:",h);continue}var m=CJAX.xml("flags",h);if(m){m=CJAX.util.array(m);if(m){if(m.FLAG_WAIT==FLAG_NO_WAIT){k=false}}}if(CJAX.debug){console.log("#",l,"process_all in loading mode","calling:",j)}if(!k){CJAX.quickProcess("<cjax>"+h+"</cjax>",j,"process_all-quick");if(CJAX.debug){console.log(CJAX.method,"quickProcess")}continue}else{if(i[j]){CJAX.quickProcess("<cjax>"+h+"</cjax>",j,"process_all-quick");continue}}CJAX.process("<cjax>"+h+"</cjax>","process_all")}}CJAX.timer=0;return g};this.functionsNoWait=function(){var a={debug_env:1,debug_test:1};return a};this.process=function(buffer,caller,alt_element){if(!CJAX.defined(caller)){var caller="default-"}if(!CJAX.is_cjax(buffer)){alert("no cjax - caller: "+caller+"\n"+buffer);return false}if(caller=="set.evet"){console.log("####process: caller",caller,buffer)}if(buffer==null)var buffer="";if(encoded==null)var encoded="";CJAX.method=CJAX.get_function(buffer);if(!CJAX.method)return false;var PREFIX="CJAX.";var f=_FUNCTION=PREFIX+CJAX.method;var ext=CJAX.xml("extension",buffer);if(CJAX.xml("debug",buffer)){CJAX.debug=true}var seconds=0;var _wait=true;var flags=CJAX.xml("flags",buffer);if(flags){flags=CJAX.util.array(flags,true);if(flags){if(flags.FLAG_WAIT==FLAG_NO_WAIT){_wait=false}}}var wait=CJAX.wait(buffer);if(_wait){if(wait){seconds=wait}else{var seconds=CJAX.xml("seconds",buffer);if(!seconds&&CJAX.timer){seconds=parseInt(CJAX.timer)}}if(CJAX.debug){console.log(CJAX.method,"waits :",seconds,"caller:",caller)}}else{if(CJAX.debug){console.log(CJAX.method,"no wait time","caller:",caller)}}if(CJAX.xml("__call",buffer)){CJAX.method=CJAX.method.replace("_",".");console.log("Magic Method:",PREFIX+CJAX.method);var a=CJAX.decode(CJAX.xml("a",buffer));if(CJAX.php.is_array(a)){a=CJAX.util.array(a)}else if(a.indexOf("\n")!=-1){a=CJAX.xml("a",buffer)}var b=CJAX.decode(CJAX.xml("b",buffer));var c=CJAX.decode(CJAX.xml("c",buffer));var d=CJAX.decode(CJAX.xml("d",buffer));var e=CJAX.decode(CJAX.xml("e",buffer));var f=CJAX.decode(CJAX.xml("f",buffer));var is_buffer=CJAX.xml("buffer",buffer);if(is_buffer){if(seconds){return setTimeout(function(){eval(PREFIX+CJAX.method+'("'+buffer+'")')},seconds*1e3)}else{return eval(PREFIX+CJAX.method+'("'+buffer+'")')}}else{try{if(seconds){return setTimeout(function(){eval(PREFIX+CJAX.method+"(a,b,c,d,e,f)")},seconds*1e3)}else{return eval(PREFIX+CJAX.method+"(a,b,c,d,e,f)")}}catch(e){console.log("Magic Method",PREFIX+CJAX.method,"could not be initiated.",e.message)}}return}if(CJAX.xml("is_plugin",buffer)){var file=CJAX.xml("file",buffer);var a=CJAX.decode(CJAX.xml("a",buffer));if(CJAX.php.is_array(a)){a=CJAX.util.array(a)}var b=CJAX.decode(CJAX.xml("b",buffer));var c=CJAX.decode(CJAX.xml("c",buffer));var d=CJAX.decode(CJAX.xml("d",buffer));var e=CJAX.decode(CJAX.xml("e",buffer));var f=CJAX.decode(CJAX.xml("f",buffer));var path=__base__+"/plugins/"+file;var plugin=CJAX.xml("do",buffer);CJAX.script.load(path);var interval_max=100;var interval_count=0;var interval=setInterval(function(){interval_count++;try{if(typeof eval(plugin)=="function"){try{if(seconds){return setTimeout(function(){eval(plugin+"(a,b,c,d,e,f)");clearInterval(interval)},seconds*1e3)}else{eval(plugin+"(a,b,c,d,e,f)");clearInterval(interval);return}}catch(e){alert("Error#4 Plugin Error: "+plugin+": "+e);clearInterval(interval)}clearInterval(interval)}if(interval_count>=interval_max){alert("Error#3 Could not load plugin "+file+".");clearInterval(interval)}}catch(e){alert("Error#4 Could not load plugin "+file+". "+e);clearInterval(interval)}},100);return}if(CJAX.method.indexOf("_")!=-1&&typeof eval(PREFIX+CJAX.method)!="function"){CJAX.method=CJAX.method.replace("_",".");try{var x=typeof eval(PREFIX+CJAX.method)=="function"}catch(e){return alert("CJAX: Util "+CJAX.method+"() does not exist")}if(typeof eval(PREFIX+CJAX.method)=="function"){var is_buffer=CJAX.xml("buffer",buffer);if(is_buffer){if(seconds){return setTimeout(function(){eval(PREFIX+CJAX.method+'("'+buffer+'")')},seconds*1e3)}else{return eval(PREFIX+CJAX.method+'("'+buffer+'")')}}else{var a=CJAX.xml("a",buffer);var b=CJAX.xml("b",buffer);var c=CJAX.xml("c",buffer);var d=CJAX.xml("d",buffer);var e=CJAX.xml("e",buffer);var f=CJAX.xml("f",buffer);if(seconds){return setTimeout(function(){eval(PREFIX+CJAX.method+"(a,b,c,d,e,f)")},seconds*1e3)}else{return eval(PREFIX+CJAX.method+"(a,b,c,d,e,f)")}}}return}if(typeof eval(f)==="function"){try{if(seconds){setTimeout(PREFIX+CJAX.method+'("'+buffer+'")',seconds*1e3)}else{if(alt_element){this.current_element=alt_element}eval(PREFIX+CJAX.method+'("'+buffer+'")')}}catch(e){if(CJAX.xml("encode",buffer)){buffer=CJAX.util.replace_encode(buffer,CJAX.xml("encode",buffer))}try{if(alt_element){this.current_element=alt_element}eval(PREFIX+CJAX.method+'("'+buffer+'")')}catch(e){alert("#process unabled to load function: "+CJAX.method+"();  "+e)}}}else{alert("CJAX XML-Processor:"+CJAX.method+" function not found.")}};this.quickProcess=function(buffer,_do_,caller){if(!CJAX.defined(caller)){var caller="default-"}if(!CJAX.is_cjax(buffer)){alert("no cjax - caller: "+caller+"\n"+buffer);return false}if(typeof buffer=="undefined")var buffer="";CJAX.method=CJAX.get_function(buffer);if(!CJAX.method)return false;var PREFIX="CJAX.";var f=_FUNCTION=PREFIX+CJAX.method;if(typeof eval(f)==="function"){try{if(seconds){setTimeout(PREFIX+CJAX.method+'("'+buffer+'")',seconds*1e3)}else{eval(PREFIX+CJAX.method+'("'+buffer+'")')}}catch(e){if(CJAX.xml("encode",buffer)){buffer=CJAX.util.replace_encode(buffer,CJAX.xml("encode",buffer))}try{eval(PREFIX+CJAX.method+'("'+buffer+'")')}catch(e){alert("#process unabled to load function: "+CJAX.method+"();  "+e)}}}else{alert("CJAX XML-Processor:"+CJAX.method+" function not found.")}};this.xml=function(a,b,c,d){if(!b)return;if(c==null)var c=0;if(typeof a=="undefined")return"";if(d==null)var d="unknown";if(!b||!a)return"";var e=a;var f=CJAX.left_delimeter+"/"+a+CJAX.right_delimeter;a=CJAX.left_delimeter+a+CJAX.right_delimeter;try{var g=b.indexOf(a)}catch(h){alert("CJAX: XML-tag"+a+" - '"+b+"' is not valid xml source.");return}var i=a.length;var j=f.length;var k=b.indexOf(f);var l=k-g-j+1;if(g==-1||k==-1)return"";var m=b.substr(g+i,l);var n=g+i+m.length+i;if(c){var o=[];var p=0;var q;var r=b;while(CJAX.xml(e,r)&&r){q=CJAX.xml(e,r,0,"CJAX.xml");r=r.substr(g+i+q.length+j);o[p]=q;p++}if(CJAX.debug){console.log("xml count:",p,"for tag:",e)}return o?o:""}return m};this.hide=function(a,b){if(!CJAX.defined(b)){var b=null}var c=CJAX.is_element(a,false);if(!c){c=CJAX.xml("element",a);c=CJAX.$(c)}if(!c){alert("CJAX hide - element "+a+" not found")}if(c)c.style.display="none"};this.getbyname=function(a,b){var c=document.getElementsByName(a);if(c.length){return c}else if(c&&b){var d=document.getElementsByTagName(b);var e=[];var f;var c=0;for(var g=0;g<d.length;g++){f=d[g];if(f.name==a){e[c]=f;c=c+1}}return e}};this.show=function(a){var b=CJAX.is_element(a,false);if(!b){b=CJAX.xml("data",a);b=CJAX.$(b)}if(!b){alert("CJAX show - element "+a+"+ found")}if(b)b.style.display="block"};this.check=function(a){var b,c;var d=CJAX.is_element(a,false);if(!d){d=CJAX.xml("data",a);d=CJAX.$(d)}if(!d){if(CJAX.util.count(d=document.getElementById(a+"[0]"))){if(d.nodeName!="INPUT"){return}var e=0;var f=CJAX.elem_docs(d.nodeName);if(CJAX.clicked.type!="checkbox"){if(d.checked){c=false}else{c=true}}else{c=d.checked}for(x in f){b=f[x];if(b.type=="checkbox"&&b.id.indexOf(a)!=-1){b.checked=c}}return}}else{c=true;var g=false;var f=d.getElementsByTagName("input");c=f[0].checked?false:true;for(var e=0;e<f.length;e++){b=f[e];if(b.type=="checkbox"){b.checked=c}}}};this._nextObject=function(a){var b=a;do b=b.nextSibling;while(b&&b.nodeType!=1);return b};this._previousObject=function(a){var b=a;do b=b.previousSibling;while(b&&b.nodeType!=1);return b};this.css=function(a,b){return{add:function(a,b){function c(a){var b=document.createElement("style");b.type="text/css";b.rel="stylesheet";b.media="screen";b.setAttribute("title",a);return b}if(HELPER_STYLE&&b=="cjax"){if(HELPER_STYLE.cssRules){if(!CJAX.css.get(a,b)){HELPER_STYLE.insertRule(a+" { }",0)}return CJAX.css.get(a,b)}else{if(!CJAX.css.get(a,b)){HELPER_STYLE.addRule(a,null,0)}return CJAX.css.get(a,b)}}var d=document.styleSheets;var e;for(var f=0;f<d.length;f++){if(d[f].title==b){e=d[f];break}}var g=CJAX.elem_docs("head")[0];var h=c(b);g.appendChild(h);if(h.sheet){var e=HELPER_STYLE=h.sheet;e.insertRule(a+" { }",0)}else{var e=HELPER_STYLE=h.styleSheet;e.addRule(a,null,0)}var i=CJAX.css.get(a,b);return i},getClass:function(a,b){if(typeof b=="undefined")var b=null;if(CJAX.defined(CJAX.styles[a])){return CJAX.styles[a]}var c=document.styleSheets;var d;var e;for(var f=0;f<c.length;f++){d=c[f];e=d.cssRules;if(b&&d.href){var g=CJAX.get.basename(d.href);if(b!=g){continue}}if(!CJAX.defined(e.length)){continue}if(e.length&&e.length>50){continue}for(var f=0;f<e.length;f++){if(typeof e[f]=="number"||typeof e[f]=="function"){continue}if(!CJAX.defined(e[f].selectorText)){continue}try{if(e[f].selectorText==a){CJAX.styles[a]=e[f];return e[f]}}catch(h){}}}},get:function(a,b){if(typeof b=="undefined")var b=null;if(b=="cjax"){var c=HELPER_STYLE;var d;if(c.cssRules){for(x in c.cssRules){d=c.cssRules[x];if(CJAX.defined(d)&&CJAX.defined(d.selectorText)&&d.selectorText.toLowerCase()==a){return c.cssRules[x]}}}else{for(x in c.rules){d=c.rules[x];if(CJAX.defined(d)&&CJAX.defined(d.selectorText)&&d.selectorText.toLowerCase()==a){return c.rules[x]}}}}}}}();this.turn=function(a){if(a){if(!a.type)return false;switch(a.type){case"checkbox":case"radio":return true;break;default:return false}}return false};this.passvalue=function(a,b){if(typeof b=="undefined")var b=true;var c=CJAX.elem_doc(a,b);if(c){switch(c.type){case"text":case"select-one":case"select-multiple":case"password":case"textarea":case"hidden":return escape(c.value);break;case"checkbox":return c.checked?1:0;break;case"radio":var d=document.getElementsByTagName("input");var e;if(d.length){for(var f=0;f<d.length;f++){e=d[f];if(e.type!="radio")continue;if(e.checked){return e.value}}}return c.checked?1:0;break}}};this.AJAX=function(){xmlhttp=false;if(typeof XMLHttpRequest!="undefined"){xmlhttp=new XMLHttpRequest}else{try{xmlhttp=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){xmlhttp=false}}if(!xmlhttp&&typeof XMLHttpRequest!="undefined")xmlhttp=new XMLHttpRequest}return xmlhttp};this.intval=function(a){var b=isNaN(a)?false:true;if(b){return a}else{return 0}};this.wait=function(a){if(typeof a=="undefined"){CJAX.timer=0;CJAX.waiting=false;console.log("Timer has be reset.");return 0}if(FLAG_CLEAR_TIMEOUT){CJAX.timer=0}var b=CJAX.intval(CJAX.xml("timeout",a));FLAG_CLEAR_TIMEOUT=CJAX.xml("clear",a);if(!b){return}CJAX.waiting=true;if(!CJAX.timer){CJAX.timer=parseInt(CJAX.xml("timeout",a))}else{CJAX.timer=parseInt(CJAX.timer)+parseInt(CJAX.xml("timeout",a))}return CJAX.timer};this.is_element=function(a,b){if(!a){return}if(typeof b==="undefined"){var b=true}if(b)if(!a){alert("invalid input on function: "+_FUNCTION+" :  not an element ");return}var c;var d=typeof a;if(d.indexOf("object")!=-1)return a;c=CJAX.$(a,b);if(c)return c;c=CJAX.xml("element",a);if(c)return CJAX.$(c,false);return};this.decode=function(a){if(typeof a=="string"){a=unescape(a);a=a.replace(/\+/gi," ");a=a.replace("/[plus]/gi","+")}return a};this.replace=function(a){var b=CJAX.xml("element",a);var c=CJAX.is_element(b);if(!c){console.warning("Element not found:",b);return}var d=CJAX.xml("find",a);var e=CJAX.xml("replace",a);var f=c.innerHTML;var g=new RegExp(d,"gms");f=f.replace(g,e);c.innerHTML=f};this.style=function(a){var b=CJAX.is_element(a,false);var c=CJAX.xml("style",a);if(b&&c){c=CJAX.util.array(c);for(x in c){b.style[x]=c[x]}}};this.update=function(a,b){var c=CJAX.xml("FLAG_ELEMENT_GETTER",a);var d=CJAX.xml("element",a);if(c==FLAG_ELEMENT_BY_CLASS){var e=CJAX.get.byClassName(d)}else{var e=CJAX.is_element(a,false)}if(!e)return false;if(CJAX.util.isXML(a)&&!b){var b=CJAX.xml("data",a)}var f=unescape(b);if(f.substr(0,2)=="+="){b=e.innerHTML+b}b=CJAX.decode(b);e.innerHTML=b;if(CJAX.util.isXML(a)&&CJAX.xml("display",a)){e.style.display=""}};this.load_script=function(a){if(typeof a=="undefined"||!a)return false;var b=CJAX.xml("script",a);if(!b){b=a}if(CJAX.strpos(b,"__domain__")!==false){b=b.replace("__domain__",CJAX.get.dirname(document.baseURI))}if(!b.loaded()){var c=CJAX.script.load(b)}};this.strpos=function(a,b,c){if(!CJAX.defined(c)){var c=0}var d=a.indexOf(b,c);return d>=0?d:false};this.alert=function(a,b){var c=CJAX.xml("msg",a);c=CJAX.decode(c);if(!c){if(CJAX.debug){console.log("CJAX:alert"," request was empty")}return;if(typeof b!="undefined"){c=c+" - "+b}}alert(c)};this.location=function(a){var b=CJAX.xml("url",a);window.location=b};this.getSelectedRadio=function(a){if(a[0]){for(var b=0;b<a.length;b++){if(a[b].checked){return b}}}else{if(a.checked){return 0}}return-1};this.getSelectedRadioValue=function(a){var b=CJAX.getSelectedRadio(a);if(b==-1){return""}else{if(a[b]){return a[b].value}else{return a.value}}};this.form_get_elements_url=function(a){var b="";var c;var d;var e=0;var f=CJAX.is_element(a,false);if(!f){alert("The form you tried to submit was not found in the document.");return}var g=f.getElementsByTagName("*");for(var h=0;h<g.length;h++){if(g[h].id=="undefined"&&g[h].name=="undefined")continue;e++;c=g[h];elem_id=c.id;elem_type=c.type;elem_value=c.value;elem_len=c.length;elem_id=c.id;if(c.id&&c.name!=""||c.id=="undefined"&&c.name!=""){elem_id=c.name}switch(c.type){case"checkbox":if(!c.value){if(!c.checked){continue}}if(c.value){if(typeof c.value=="string"&&c.value=="0"){d=c.checked?1:0}else{if(c.checked){d=c.value}else{d=""}}}else{var i=c.id.match(/[a-zA-Z0-9_]+\[(.+)\]/i,"$1");if(CJAX.defined(i[1])){d=i[1]}else{d=c.checked?1:0}}break;case"text":case"select-one":case"textarea":d=c.value;break;case"radio":if(CJAX.getSelectedRadio(c)===-1)continue;d=CJAX.getSelectedRadioValue(c);break;default:d=encodeURI(c.value)}if(d!="undefined"&&elem_id)b+="&"+elem_id+"="+d}return b};this.loadScreen=function(a){CJAX.$("cjax_overlay").style.display="block"};this.exe_form=function(params){params=CJAX.decode(params);CJAX.resetDelimeters("[","]");var destino=CJAX.xml("url",params);var related=CJAX.xml("rel",params);var frm=CJAX.xml("form",params);var container=CJAX.xml("container",params);var text=CJAX.xml("text",params);if(!text)text="Loading...";if(text=="no_text")text=null;if(text){CJAX.msg.loading(text,true)}var _confirm=CJAX.xml("confirm",params);var dir=CJAX.xml("cjax_dir",params);var debug=CJAX.xml("debug",params);if(_confirm){CJAX.$("cjax_overlay").style.display="block";if(!window.confirm(_confirm)){CJAX.resetDelimeters();CJAX.$("cjax_overlay").style.display="none";return true}else{CJAX.$("cjax_overlay").style.display="none"}}var image=CJAX.xml("image",params);var mode=CJAX.xml("method",params);if(!mode)mode="get";var file_form=null;var frame=null;var files=false;var first_destino=null;var form=null;if(!frm&&CJAX.current_element){form=CJAX.current_element.form}if(frm||form){var url="";var elem_value="";var is_my_radio=new Array(10);var splitter;var assign="=";if(!form){if(!CJAX.is_element(frm)){form=document.forms[frm];if(!form){form=CJAX.$(frm)}}else{form=CJAX.is_element(frm)}}if(!form||!form.elements){var url=CJAX.form_get_elements_url(frm);if(!url){alert("CJAX: invalid form or form is empty");return false}}else{var elems=form.elements?form.elements:elems;var form_len=elems.length;rel=form.getAttribute("rel");for(var n=0;n<form_len;n++){splitter="&";elem=elems[n];elem_id=elem.id;elem_type=elem.type;elem_name=elem.name;elem_value=elem.value;elem_len=elem.length;if(!elem_type)continue;if(elem_type=="file"){files=true}if(elem_id&&elem_name)elem_id=elem_name;if(!elem_id&&elem_name)elem_id=elem_name;if(!elem_id){continue}try{if(elem_id&&typeof CKEDITOR!="undefined"&&typeof eval("CKEDITOR.instances."+elem_id)!="undefined"){elem_type="ckeditor"}}catch(e){}switch(elem_type){case"ckeditor":elem_value=eval("CKEDITOR.instances."+elem_id+".getData()");break;case"checkbox":elem_value=elem.checked?1:"";if(elem.value){if(typeof elem.value=="string"&&elem.value=="0"){elem_value=elem.checked?1:0}else{if(elem.checked){elem_value=elem.value}else{elem_value=""}}}break;case"text":case"select-one":case"textarea":assign="=";elem_value=elem.value;break;case"radio":if(CJAX.getSelectedRadio(elem)!=-1){if(CJAX.getSelectedRadioValue(elem))elem_value=CJAX.getSelectedRadioValue(elem);assign="="}else{splitter="";elem_id="";elem_value="";assign=""}break;case"hidden":elem_value=elem.value;break;default:elem_value=elem.value}if(typeof elem_value=="string"&&elem_value.indexOf("&")!=-1){elem_value=escape(elem_value)}url+=splitter;url+=elem_id+assign+encodeURI(elem_value);assign="="}if(files){var element=null;var f_count=0;var form_destino="";for(var i=0;i<form.length;i++){element=form[i];if(element.type=="file"){if(element.value){f_count++}form_destino+="&a[]="+element.value;if(element.id&&!element.name){element.name=element.id}else if(element.name&&!element.id){element.id=element.name}}}form_destino=destino+form_destino+"&cjax_iframe=1";if(dir){form_destino+="&cjax_dir="+dir}if(!f_count){files=false}else{iframe=CJAX.create.frame("frame_upload");iframe.width="400px";iframe.height="200px";form.appendChild(iframe);if(!debug){iframe.style.display="none"}with(form){method="POST";action=destino+"&cjax_dir=examples&cjax_iframe=1";encoding="multipart/form-data";enctype="multipart/form-data";target=iframe.id}}}}if(related){destino+="&"+related}var first_destino=destino;destino+=url}if(mode.toLowerCase()!="get"&&destino.length>1200){CJAX.IS_POST=true}var parts=destino.split("&");var part;if(parts){for(x in parts){if(typeof parts[x]=="string"&&parts[x]){if(!part){part=CJAX._value(parts[x])}else{part+="&"+CJAX._value(parts[x])}}}}if(part){destino=part}CJAX.resetDelimeters();if(container){container=CJAX.$(container);if(!container)return false}if(dir){destino+="&cjax_dir="+dir;first_destino+="&cjax_dir="+dir;first_destino+="&cjax="+CJAX.microtime(true)}if(!CJAX.HTTP_REQUEST_INSTANCE)CJAX.HTTP_REQUEST_INSTANCE=CJAX.AJAX();if(destino.indexOf("&")!=-1){destino+="&cjax="+CJAX.microtime(true)}if(mode.toLowerCase()=="get"&&destino.length<1200){CJAX.HTTP_REQUEST_INSTANCE.onreadystatechange=function(){};CJAX.HTTP_REQUEST_INSTANCE.open("GET",destino)}else{CJAX.IS_POST=true;CJAX.HTTP_REQUEST_INSTANCE.open("POST",first_destino,true);if(CJAX.HTTP_REQUEST_INSTANCE.overrideMimeType){CJAX.HTTP_REQUEST_INSTANCE.overrideMimeType("text/html")}CJAX.HTTP_REQUEST_INSTANCE.setRequestHeader("Content-length",destino.length);if(destino.length>1500){CJAX.HTTP_REQUEST_INSTANCE.setRequestHeader("Content-type","application/x-www-form-urlencoded");CJAX.HTTP_REQUEST_INSTANCE.setRequestHeader("Connection","Keep-Alive")}else{CJAX.HTTP_REQUEST_INSTANCE.setRequestHeader("Connection","Closed")}}CJAX.HTTP_REQUEST_INSTANCE.setRequestHeader("X-Requested-With","CJAX FRAMEW0RK 4.0");CJAX.HTTP_REQUEST_INSTANCE.onreadystatechange=function(){if(CJAX.HTTP_REQUEST_INSTANCE.readyState){if(CJAX.HTTP_REQUEST_INSTANCE.readyState<4){if(CJAX.debug){console.log("Waiting for response..")}}else{switch(CJAX.HTTP_REQUEST_INSTANCE.status){case 200:var a=buffer=CJAX.HTTP_REQUEST_INSTANCE.responseText;CJAX.msg.clear();CJAX.process_all(buffer);a=unescape(a);if(container)container.innerHTML=a;if(CJAX.debug)CJAX.alert("Debug: - exe_form - "+container.innerHTML);break;case 400:CJAX.msg.error('Error: The server returned a "Bad Request" status message 400.');break;case 403:CJAX.msg.error("Error: Access to this request is forbidden");break;case 404:CJAX.msg.error("Error: File not found "+destino);break;case 414:CJAX.msg.error("Error: the data sent was too large.");break;case 500:CJAX.msg.error("Error: The server encountered an unexpected Error with status 500. See server log for details.");break;case 503:CJAX.msg.error("Error: Gateway timeout.");break}}}return};CJAX.HTTP_REQUEST_INSTANCE.send(CJAX.IS_POST?destino:null);if(files){var _submit=function(){form.submit();if(iframe){var a=null;var b=300;var c=200;var d=0;var e=setInterval(function(){d++;try{a=iframe.contentWindow.document.body.innerHTML;a=a.replace("<","<");a=a.replace(">",">")}catch(c){alert("CJAX: Error - uploading files "+c);clearInterval(e)}if(a){console.log("iframe response:",a);var f=CJAX.xml(CJAX.name,a,true);for(var g=0;g<f.length;g++){buffer=f[g];var h=CJAX.xml("do",buffer);if(CJAX.debug){console.log("#",g,"process_all in loading mode","calling:",h)}CJAX.process("<cjax>"+buffer+"</cjax>","process_all")}clearInterval(e)}if(d>b){alert("Uploading Failed.");clearInterval(e)}},c)}};setTimeout(function(){_submit()},1e3)}};this.msg=function(){return{warning:function(a){CJAX.message("<cjax><data><div class='cjax_message cjax_message_type cjax_warning'><div>"+a+"</div></div></data></cjax>")},error:function(a){CJAX.message("<cjax><data><div class='cjax_message cjax_message_type cjax_error'><div>"+a+"</div></div></data></cjax>")},success:function(a){CJAX.message("<cjax><data><div class='cjax_message cjax_message_type cjax_success'><div>"+a+"</div></div></data></cjax>")},loading:function(a,b){if(typeof b!="undefined"&&b){document.body.style.cursor="wait"}CJAX.message("<cjax><data><div class='cjax_message cjax_message_type cjax_loading'>"+a+"</div></data></cjax>")},clear:function(){CJAX.message();document.body.style.cursor="default"}}}();this.log=function(a){if(typeof console!="undefined"){console.log(a)}};this.$=function(a,b){if(!a){return}if(typeof b=="undefined"){var b=false}return CJAX.elem_doc(a,b)};this.elem_doc=function(a,b){var c=typeof d;if(typeof b=="undefined"&&CJAX.debug){b=true}if(c.indexOf("object")==-1){var d=document.getElementById(a)}if(typeof a=="undefined"||a===null){if(b)alert("Element not found");return false}if(!d){if(b)CJAX.alert('CJAX: Element "'+a+'" not found on document');return false}return d};this.elem_docs=function(a,b){if(typeof b=="undefined")b=true;var c=document.getElementsByTagName(a);if(!c){if(b)CJAX.alert("CJAX: Element "+a+" not found on document");return}return c};this.getY=function(){var a=0;if(typeof window.pageYOffset=="number"){a=window.pageYOffset}else if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){a=document.body.scrollTop}else if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){a=document.documentElement.scrollTop}return a};this.getX=function(){var a=0;if(typeof window.pageYOffset=="number"){a=window.pageXOffset}else if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){a=document.body.scrollLeft}else if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){a=document.documentElement.scrollLeft}return a};this.unserialize=function(a){var b=function(a,b,c,d){throw new window[a](b,c,d)};var c=function(a,c,d){var e=[];var f=a.slice(c,c+1);var g=2;while(f!=d){if(g+c>a.length){b("Error","Invalid")}e.push(f);f=a.slice(c+(g-1),c+g);g+=1}return[e.length,e.join("")]};var d=function(a,b,c){var d;d=[];for(var e=0;e<c;e++){var f=a.slice(b+(e-1),b+e);d.push(f)}return[d.length,d.join("")]};var e=function(a,f){var g;var h;var i=0;var j;var k;var l;var m;if(!f)f=0;var n=a.slice(f,f+1).toLowerCase();var o=f+2;var p=new Function("x","return x");switch(n){case"i":p=new Function("x","return parseInt(x)");h=c(a,o,";");i=h[0];g=h[1];o+=i+1;break;case"b":p=new Function("x","return (parseInt(x) == 1)");h=c(a,o,";");i=h[0];g=h[1];o+=i+1;break;case"d":p=new Function("x","return parseFloat(x)");h=c(a,o,";");i=h[0];g=h[1];o+=i+1;break;case"n":g=null;break;case"s":j=c(a,o,":");i=j[0];k=j[1];o+=i+2;h=d(a,o+1,parseInt(k));i=h[0];g=h[1];o+=i+2;if(i!=parseInt(k)&&i!=g.length){b("SyntaxError","String length mismatch")}break;case"a":g={};l=c(a,o,":");i=l[0];m=l[1];o+=i+2;for(var q=0;q<parseInt(m);q++){var r=e(a,o);var s=r[1];var t=r[2];o+=s;var u=e(a,o);var v=u[1];var w=u[2];o+=v;g[t]=w}o+=1;break;default:b("SyntaxError","Unknown / Unhandled data type(s): "+n);break}return[n,o-f,p(g)]};return e(a,0)[2]};this.microtime=function(a){var b=(new Date).getTime()/1e3;var c=parseInt(b,10);return a?b:Math.round((b-c)*1e3)/1e3+" "+c};this.exe_html=function(params,caller){params=CJAX.decode(params);var msg=null,x,response;if(caller==null){var caller="unknown"}if(CJAX.debug){console.log("CJAX.set.event","exe_html","called by "+caller)}CJAX.resetDelimeters("[","]");var destino=CJAX.xml("url",params);destino=destino.replace(/\&amp\;/gi,"&");var related=CJAX.xml("rel",params);var _confirm=CJAX.xml("confirm",params);var stamp=CJAX.xml("stamp",params);var is_loading=CJAX.xml("is_loading",params);if(!is_loading)is_loading=false;if(related){destino+="&"+related}if(_confirm){CJAX.$("cjax_overlay").style.display="block";if(!window.confirm(_confirm)){CJAX.resetDelimeters();CJAX.$("cjax_overlay").style.display="none";return true}else{CJAX.$("cjax_overlay").style.display="none"}}var parts=destino.split("&");var part;if(parts){for(x in parts){if(typeof parts[x]=="string"&&parts[x]){if(!part){part=CJAX._value(parts[x])}else{part+="&"+CJAX._value(parts[x])}}}}if(part){destino=part;destino=eval("'"+destino+"'")}var text=CJAX.xml("text",params);if(!text||text==1)text="Loading...";if(text=="no_text")text=null;if(text){CJAX.msg.loading(text,true)}var mode=CJAX.xml("mode",params)?CJAX.xml("mode",params):"get";var args=CJAX.xml("args",params);var image=CJAX.xml("image",params);var element=CJAX.xml("element",params);var dir=CJAX.xml("cjax_dir",params);CJAX.resetDelimeters();if(x=element){var element=CJAX.is_element(element,false);if(!element){alert("CJAX Error: Element "+x+" not found");return false}}CJAX.HTTP_REQUEST_INSTANCE=this.AJAX();if(destino.indexOf("&")!=-1){var ms=+(new Date).getTime();if(dir){destino+="&cjax_dir="+dir}destino+="&cjax="+CJAX.microtime(true)}if(mode.toLowerCase()=="get"){CJAX.HTTP_REQUEST_INSTANCE.open(mode,destino)}else{CJAX.IS_POST=true;if(CJAX.HTTP_REQUEST_INSTANCE.overrideMimeType){CJAX.HTTP_REQUEST_INSTANCE.overrideMimeType("text/html")}var full_url=destino+args;CJAX.HTTP_REQUEST_INSTANCE.open(mode,destino,true);CJAX.HTTP_REQUEST_INSTANCE.setRequestHeader("Content-type","application/x-www-form-urlencoded");CJAX.HTTP_REQUEST_INSTANCE.setRequestHeader("Content-length",full_url.length);CJAX.HTTP_REQUEST_INSTANCE.setRequestHeader("Connection","Keep-Alive")}CJAX.HTTP_REQUEST_INSTANCE.setRequestHeader("X-Requested-With","CJAX FRAMEW0RK 4.0");try{CJAX.HTTP_REQUEST_INSTANCE.onreadystatechange=function(){if(CJAX.HTTP_REQUEST_INSTANCE.readyState){if(CJAX.HTTP_REQUEST_INSTANCE.readyState<4){if(CJAX.debug){console.log("Waiting for response..")}}else{switch(CJAX.HTTP_REQUEST_INSTANCE.status){case 200:var a=CJAX.HTTP_REQUEST_INSTANCE.responseText;CJAX.msg.clear();CJAX.process_all(a);a=unescape(a);CJAX.cache_calls[params]=response=a;if(element){try{element.innerHTML=a}catch(b){alert("Error - Cant not use element. "+b)}}if(CJAX.debug){console.log("response text:",a)}break;case 400:CJAX.msg.error('Error: The server returned a "Bad Request" status message 400.');break;case 404:var c="CJAX Error: File not found "+destino;if(element){if(!element.type){alert("exe_html: element type is"+element+c);return false}}CJAX.msg.error("Error: File not found "+destino);break;case 403:CJAX.msg.error("Error: Access to this request is forbidden");break;case 500:CJAX.msg.error("Error: The server encountered an unexpected Error with status 500. See server log for details.");break;case 503:CJAX.msg.error("Error: Gateway timeout.");break;default:CJAX.msg.warning("Error: Server responded with a unsual response, see available server error logs for details.");break}}}return}}catch(err){alert('CJAX: Error - "'+err.description+'"'+"\n"+err.message)}CJAX.HTTP_REQUEST_INSTANCE.send(CJAX.IS_POST?full_url:null);return response};this._value=function(a,b){var c;c=a.indexOf("|");if(c!=-1){var d=a.match(/\|(.+)\|/i,"$1");if(CJAX.defined(CJAX.$(d[1]))){if(f=CJAX.$(d[1])){switch(f.type){case"checkbox":a=a.replace(d[0],"'+escape(CJAX.$('"+f.id+"').checked?1:0)+''+'");break;default:a=a.replace(d[0],"'+escape(CJAX.$('"+f.id+"').value)+''+'")}a=a.replace("/","%2F")}else{var e=document.getElementsByName(d[1]);if(e){var f;var g="";for(var h=0;h<e.length;h++){f=e[h];if(f.checked){g=f.value;break}}a=a.replace(d[0],g)}}}return a}return a};this.initiate=function(){if(!window.console||!console.firebug){(function(a){var b,c=0;if(!a.console)a.console={};b=["assert","clear","count","debug","dir","dirxml","error","getFirebugElement","group","groupCollapsed","groupEnd","info","log","notifyFirebug","profile","profileEnd","time","timeEnd","trace","warn"];for(c=0;c<b.length;++c)if(!a.console[b[c]]){a.console[b[c]]=function(){}}})(window)}var a=CJAX.css.add(".cjax","cjax");if(a){a.style.position="absolute";a.style.visibility="hidden";a.style.display="none"}CJAX.set.event(window,"load",CJAX.onStartEvents)};this.onStartEvents=function(){var a=navigator.userAgent.toLowerCase();this.ie=a.indexOf("msie")!=-1&&a.indexOf("opera")==-1;__base__=CJAX.dir=CJAX.get.basepath();CJAX.vars["loaded"]=[];__construct()}}var CJAX=new CJAX_FRAMEWORK;CJAX.initiate()